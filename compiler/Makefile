# Odds: compiler Makefile
#  - builds and manages all compiler components

OCAMLC=ocamlc
OCAMLLEX=ocamllex
OBJS=scanner.cmo

default: scanner

all:
	cd ..; make all

scanner: $(OBJS)
	$(OCAMLC) -o scanner $(OBJS)

scanner.ml: scanner.mll
	$(OCAMLLEX) scanner.mll

%.cmo: %.ml
	$(OCAMLC) -c $<

%.cmi: %.mli
	$(OCAMLC) -c $<

.PHONY: clean
clean:
	rm -f scanner scanner.ml *.cmo *.cmi

# Generated by ocamldep *.ml *.mli
ast.cmo :
ast.cmx :
generator.cmo :
generator.cmx :
scanner.cmo : tokens.cmi ast.cmo
scanner.cmx : tokens.cmi ast.cmx
tokens.cmi :
