# Odds: test/parser Makefile
#  - builds the parserize executable for printing parsed strings from stdin

OCAMLC=ocamlc
OBJS = ../../compiler/parser.cmo ../../compiler/scanner.cmo parserize.cmo
INCLUDES = -I ../../compiler

default: parserize

all:
	cd ..; make all

parserize: $(OBJS)
	$(OCAMLC) $(INCLUDES) -o parserize $(OBJS)

%.cmo: %.ml
	$(OCAMLC) $(INCLUDES) -c $<

%.cmi: %.mli
	$(OCAMLC) $(INCLUDES) -c $<

.PHONY: clean
clean:
	rm -f parserize *.cmo *.cmi

# Generated by ocamldep *.ml *.mli
parserize.cmo: ../../compiler/scanner.cmo ../../compiler/parser.cmi ../../compiler/ast.cmi
parserize.cmx: ../../compiler/scanner.cmx ../../compiler/parser.cmx ../../compiler/ast.cmi 
../../compiler/parser.cmi: ../../compiler/ast.cmi
